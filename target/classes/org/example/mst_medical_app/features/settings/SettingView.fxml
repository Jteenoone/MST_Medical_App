<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>

<VBox xmlns="http://javafx.com/javafx/25"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="org.example.mst_medical_app.features.settings.SettingController"
      alignment="TOP_CENTER" spacing="25"
      style="-fx-background-color: #FFFFFF; -fx-padding: 30;">

    <Label text="âš™ï¸ Há»“ sÆ¡ cÃ¡ nhÃ¢n"
           style="-fx-font-size: 26px; -fx-font-weight: bold; -fx-text-fill: #1E293B;" />

    <HBox spacing="40" alignment="CENTER">
        <VBox alignment="CENTER" spacing="12">
            <ImageView fx:id="avatarImage"
                       fitHeight="130" fitWidth="130"
                       preserveRatio="true"
                       style="-fx-border-color: #E2E8F0; -fx-border-width: 2; -fx-border-radius: 100; -fx-background-radius: 100;">
                <image>
                    <Image url="@../../../../../images/default_avatar.png"/>
                </image>
            </ImageView>

            <Button fx:id="changeAvatarBtn"
                    text="Äá»•i áº£nh Ä‘áº¡i diá»‡n"
                    style="-fx-background-color: #E2E8F0; -fx-text-fill: #1E293B;
                           -fx-font-weight: bold; -fx-background-radius: 8;"/>
        </VBox>

        <VBox spacing="20" alignment="CENTER_LEFT">
            <GridPane hgap="15" vgap="15">
                <columnConstraints>
                    <ColumnConstraints prefWidth="120"/>
                    <ColumnConstraints prefWidth="260"/>
                </columnConstraints>

                <Label text="Há» vÃ  tÃªn:" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                <TextField fx:id="nameField" GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                <Label text="Email:" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                <TextField fx:id="emailField" GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                <Label text="Sá»‘ Ä‘iá»‡n thoáº¡i:" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                <TextField fx:id="phoneField" GridPane.rowIndex="2" GridPane.columnIndex="1"/>
            </GridPane>

            <HBox spacing="10">
                <Button fx:id="saveButton" text="ðŸ’¾ LÆ°u thay Ä‘á»•i"
                        style="-fx-background-color: #0D6EFD; -fx-text-fill: white;
                               -fx-font-weight: bold; -fx-background-radius: 10; -fx-padding: 6 20;"/>

                <Button fx:id="togglePasswordSectionBtn" text="ðŸ” Äá»•i máº­t kháº©u"
                        style="-fx-background-color: #16A34A; -fx-text-fill: white;
                               -fx-font-weight: bold; -fx-background-radius: 10; -fx-padding: 6 20;"/>
            </HBox>
        </VBox>
    </HBox>

    <!-- PHáº¦N Äá»”I Máº¬T KHáº¨U (áº¨N Máº¶C Äá»ŠNH) -->
    <StackPane fx:id="passwordSection" alignment="CENTER"
               style="-fx-background-color: transparent;">

        <VBox spacing="15" alignment="CENTER"
              style="-fx-background-color: #F9FAFB;
                 -fx-padding: 25;
                 -fx-background-radius: 12;
                 -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.15), 12, 0, 0, 3);
                 -fx-max-width: 420;">

            <Label text="ðŸ”’ Äá»•i máº­t kháº©u"
                   style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #1E293B;" />

            <GridPane hgap="10" vgap="10">
                <columnConstraints>
                    <ColumnConstraints prefWidth="160"/>
                    <ColumnConstraints prefWidth="240"/>
                </columnConstraints>

                <Label text="Máº­t kháº©u hiá»‡n táº¡i:" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                <PasswordField fx:id="currentPasswordField" GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                <Label text="Máº­t kháº©u má»›i:" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                <PasswordField fx:id="newPasswordField" GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                <Label text="XÃ¡c nháº­n máº­t kháº©u:" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                <PasswordField fx:id="confirmPasswordField" GridPane.rowIndex="2" GridPane.columnIndex="1"/>
            </GridPane>

            <Button fx:id="changePasswordBtn"
                    text="XÃ¡c nháº­n Ä‘á»•i máº­t kháº©u"
                    style="-fx-background-color: #0D6EFD;
                       -fx-text-fill: white;
                       -fx-font-weight: bold;
                       -fx-background-radius: 10;
                       -fx-padding: 8 20;"/>
        </VBox>
    </StackPane>


    <Label fx:id="messageLabel" text=""
           style="-fx-text-fill: #059669; -fx-font-weight: bold; -fx-font-size: 14px;"/>
</VBox>
